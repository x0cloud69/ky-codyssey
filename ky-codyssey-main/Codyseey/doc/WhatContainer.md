# 도커와 컨테이너 기술 문서

## 1. 가상머신과 컨테이너의 차이점

### 구조적 차이
- 가상머신(VM)은 하이퍼바이저를 통해 하드웨어를 가상화하고, 각각의 VM마다 완전한 OS를 포함합니다. [2]
- 컨테이너는 호스트 OS의 커널을 공유하며, 애플리케이션 실행에 필요한 라이브러리와 종속성만 포함합니다. [1]

### 리소스 효율성
- VM은 각각 독립적인 OS를 실행하므로 더 많은 시스템 리소스를 사용합니다. [3]
- 컨테이너는 호스트 OS 커널을 공유하므로 더 가볍고 빠르게 시작할 수 있습니다. [4]

## 2. 컨테이너와 이미지의 차이점

### 이미지
- 이미지는 애플리케이션을 실행하는데 필요한 모든 파일과 설정을 포함하는 읽기 전용 템플릿입니다. [2]
- 변경할 수 없는(immutable) 파일 시스템 스냅샷과 실행 파라미터들의 집합입니다. [1]

### 컨테이너
- 컨테이너는 이미지의 실행 가능한 인스턴스입니다. [4]
- 이미지 위에 쓰기 가능한 레이어를 추가하여 실제 애플리케이션을 실행합니다. [3]

## 3. 컨테이너 런타임의 정의

컨테이너 런타임은 컨테이너의 생명주기를 관리하는 소프트웨어로, 컨테이너의 시작, 중지, 삭제 등을 담당하는 핵심 구성요소입니다. [1], [2]

## 4. 주요 컨테이너 런타임 3가지

1. **containerd**
   - Docker에서 사용되는 업계 표준 컨테이너 런타임 [2]
   - CNCF의 졸업 프로젝트로 안정성이 검증됨 [1]

2. **CRI-O**
   - Kubernetes에 최적화된 경량 컨테이너 런타임 [3]
   - Red Hat이 주도하여 개발 [4]

3. **runc**
   - OCI(Open Container Initiative) 표준을 구현한 저수준 컨테이너 런타임 [1]
   - 다른 고수준 런타임들의 기반이 되는 컨테이너 실행 도구 [2]

## 5. 도커 이미지 레이어

### 레이어의 개념
- 도커 이미지는 여러 개의 읽기 전용 레이어로 구성됩니다. [1]
- 각 레이어는 Dockerfile의 각 명령어에 해당하는 파일 시스템의 변경사항을 나타냅니다. [3]

### 레이어의 특징
- 레이어는 캐시되어 재사용될 수 있어 빌드 시간과 디스크 공간을 절약합니다. [2]
- 컨테이너가 실행될 때 읽기-쓰기가 가능한 새로운 레이어가 최상단에 추가됩니다. [4]


3. **레이어 구성**
```dockerfile
FROM ubuntu:20.04        # 베이스 레이어
COPY app.py /app/       # 새 레이어 추가
RUN pip install flask   # 새 레이어 추가
CMD ["python", "app.py"] # 메타데이터 레이어
```

4. **레이어 최적화**
   - 레이어 수를 최소화하여 이미지 크기 감소
   - 자주 변경되는 레이어는 마지막에 배치
   - 멀티 스테이지 빌드 활용 [4]

5. **저장소 구조**
   - 각 레이어는 고유한 해시값으로 식별
   - 레이어는 호스트 시스템에서 공유되어 저장 공간 절약
   - `/var/lib/docker/overlay2/` 에 실제 레이어 저장 [2]

CNCF (Cloud Native Computing Foundation)는 클라우드 네이티브 컴퓨팅을 위한 오픈소스 프로젝트를 지원하는 리눅스 재단 산하의 비영리 단체입니다. 주요 내용을 설명드리겠습니다:

## 1. CNCF의 주요 목적
- 클라우드 네이티브 컴퓨팅의 발전과 채택 촉진
- 컨테이너화된 애플리케이션의 개발과 운영을 위한 생태계 구축
- 오픈소스 기술 및 프로젝트 지원

## 2. 대표적인 CNCF 프로젝트들
1. **Kubernetes (K8s)**
   - 컨테이너 오케스트레이션의 사실상 표준
   - 가장 성공적인 CNCF 프로젝트

2. **주요 프로젝트들**
   - Prometheus (모니터링)
   - Envoy (프록시)
   - Helm (패키지 관리)
   - Harbor (컨테이너 레지스트리)
   - Istio (서비스 메시)
   - Grafana (모니터링 대시보드)

## 3. CNCF의 중요성

### 3.1 기술적 측면
- 클라우드 네이티브 표준 정립
- 상호운용성 보장
- 기술 생태계 구축

### 3.2 비즈니스 측면
- 벤더 중립적 환경 제공
- 기업들의 클라우드 전환 지원
- 오픈소스 커뮤니티 육성

## 4. CNCF 프로젝트 단계

1. **Sandbox**
   - 초기 단계 프로젝트
   - 실험적 성격

2. **Incubating**
   - 성장 단계
   - 어느 정도 안정성 확보

3. **Graduated**
   - 성숙 단계
   - 높은 채택률과 안정성
   - 예: Kubernetes, Prometheus, Envoy

## 5. CNCF의 주요 활동

1. **기술 지원**
   - 프로젝트 관리 및 지원
   - 기술 문서화
   - 교육 자료 제공

2. **커뮤니티 활동**
   - KubeCon + CloudNativeCon 컨퍼런스 개최
   - 교육 및 인증 프로그램 운영
   - 기술 워크숍 및 웨비나 진행

3. **표준화 활동**
   - 클라우드 네이티브 기술 표준 제정
   - 상호운용성 보장
   - 보안 가이드라인 제시

## 6. CNCF 생태계의 이점

1. **기업 측면**
   - 검증된 오픈소스 솔루션 사용
   - 벤더 종속성 감소
   - 표준화된 기술 스택

2. **개발자 측면**
   - 풍부한 학습 자료
   - 활발한 커뮤니티
   - 경력 개발 기회

3. **커뮤니티 측면**
   - 협업 기회
   - 기술 공유
   - 네트워킹

CNCF는 현대 클라우드 컴퓨팅의 중심축 역할을 하며, 특히 컨테이너화와 마이크로서비스 아키텍처를 기반으로 하는 현대적인 애플리케이션 개발 및 운영에 매우 중요한 역할을 하고 있습니다.   

